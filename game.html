<html>
<!-- https://opengameart.org/content/classic-knight-animated -->
<!-- img src="./Old-hero-Edit.gif" id="ss" -->
<img src="data:image/gif;base64,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" id="ss" />

<canvas id="c" width="800" height="600"></canvas>

<script>
var c; // canvas
var cc; // canvasContext
var ss; // spritesheet
var px = 100; // player x
var py = 100; // player y
var pdx = 0; // player delta x
var pdy = 0; // player delta y
var ps = 1; // player speed
var sword = false;
// subimageX, subImagey, subImageWidth, subImageHeight  
var sm = [ // sprite map
{sx: 12, sy: 5, sw: 20, sh: 20, dw: 100, dh: 100}, // normal
{sx: 57, sy: 97, sw: 40, sh: 20, dw: 200, dh: 100}  // sword
];
var cs = sm[0]; //current sprite

window.onload = function() {
	c = document.getElementById('c');
	cc = c.getContext('2d');
	ss = document.getElementById('ss');
	setInterval(draw, 1);
}

document.addEventListener('keydown', (event) => {
	const keyCode = event.keyCode;
	switch (keyCode) {
		case 32: sword = true; break;
		case 37: pdx = -1; break;
		case 38: pdy = -1; break;
		case 39: pdx = 1; break;
		case 40: pdy = 1; break;
		default:break;
	}
}, false);

document.addEventListener('keyup', (event) => {
        const keyCode = event.keyCode;
        switch (keyCode) {
		case 32: sword = false; break;
                case 37: pdx = 0; break;
                case 38: pdy = 0; break;
                case 39: pdx = 0; break;
                case 40: pdy = 0; break;
                default:break;
        }
}, false);

function update() {
        px = px + pdx * ps;
        py = py + pdy * ps;
	if (sword) {
		cs = sm[1];
	} else {
		cs = sm[0];
	}
}

function draw() {
	this.update();
        // background
	cc.fillStyle = 'black';
        cc.fillRect(0,0,c.width,c.height);

	// draw below
	cc.drawImage(ss, cs.sx, cs.sy, cs.sw, cs.sh, px, py, cs.dw, cs.dh);
}

</script>

</html>
